<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Anthony & Sofia — Wedding Invitation</title>
  <meta name="description" content="Anthony & Sofia — Wedding Invitation" />
  <style>
    :root{
      --bg:#f3d5d9;      /* dusty blush */
      --bg2:#f7e7ea;     /* lighter blush */
      --ink:#2a1f22;     /* dark warm */
      --muted:#6c5a60;
      --card:rgba(255,255,255,.55);
      --stroke:rgba(42,31,34,.16);
      --olive:#5b6b52;
      --shadow: 0 18px 50px rgba(0,0,0,.12);
      --radius: 22px;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-serif, "Iowan Old Style", "Palatino Linotype", Palatino, Georgia, serif;
      color:var(--ink);
      background: radial-gradient(1200px 900px at 50% -20%, #ffffff66, transparent 60%),
                  linear-gradient(180deg, var(--bg), var(--bg2));
      min-height:100vh;
      overflow-x:hidden;
    }

    /* subtle grain */
    body:before{
      content:"";
      position:fixed; inset:0;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='140' height='140'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='140' height='140' filter='url(%23n)' opacity='.18'/%3E%3C/svg%3E");
      mix-blend-mode:soft-light;
      opacity:.35;
      pointer-events:none;
    }

    a{color:inherit}
    .wrap{max-width:980px; margin:0 auto; padding:28px 18px 70px}
    .center{text-align:center}
    .pill{
      display:inline-flex; gap:10px; align-items:center;
      padding:10px 14px;
      border:1px solid var(--stroke);
      border-radius:999px;
      background:rgba(255,255,255,.35);
      backdrop-filter: blur(10px);
    }

    /* ---------- Intro overlay ---------- */
    .intro{
      position:fixed; inset:0;
      display:grid; place-items:center;
      padding:18px;
      z-index:50;
      transition: opacity .55s ease, transform .55s ease;
      background: radial-gradient(900px 600px at 50% 20%, #ffffff80, transparent 60%),
                  linear-gradient(180deg, var(--bg), var(--bg2));
    }
    .intro.hidden{
      opacity:0;
      transform: translateY(-10px);
      pointer-events:none;
    }

    .invite-note{
      margin-top:18px;
      font-size:15px;
      letter-spacing:.02em;
      color:var(--muted);
    }

    /* ---------- Envelope ---------- */
    .envelope-stage{
      width:min(420px, 92vw);
      aspect-ratio: 4/3.2;
      position:relative;
      filter: drop-shadow(var(--shadow));
      user-select:none;
      cursor:pointer;
      outline:none;
    }
    .envelope{
      position:absolute; inset:0;
      border-radius: 26px;
      background:
        linear-gradient(180deg, #f6e1e4, #efc7cd);
      border:1px solid rgba(42,31,34,.10);
      overflow:hidden;
    }
    /* envelope bottom */
    .env-bottom{
      position:absolute; left:0; right:0; bottom:0;
      height:64%;
      background: linear-gradient(180deg, #f3cfd4, #eebdc6);
      clip-path: polygon(0 0, 50% 52%, 100% 0, 100% 100%, 0 100%);
      opacity:.95;
    }
    /* envelope side folds */
    .env-left, .env-right{
      position:absolute; top:34%; bottom:0; width:55%;
      background: linear-gradient(180deg, #f2c9cf, #eab3be);
      opacity:.9;
    }
    .env-left{left:0; clip-path: polygon(0 0, 100% 38%, 100% 100%, 0 100%);}
    .env-right{right:0; clip-path: polygon(0 38%, 100% 0, 100% 100%, 0 100%);}

    /* top flap */
    .flap{
      position:absolute; left:0; right:0; top:0;
      height:62%;
      background: linear-gradient(180deg, #f9ecef, #f1cbd2);
      clip-path: polygon(0 0, 100% 0, 50% 72%);
      transform-origin: 50% 0%;
      transform: rotateX(0deg);
      transition: transform .9s cubic-bezier(.2,.8,.2,1);
      border-bottom:1px solid rgba(42,31,34,.08);
    }

    /* letter */
    .letter{
      position:absolute;
      left:9%; right:9%;
      bottom:10%;
      height:70%;
      background: linear-gradient(180deg, rgba(255,255,255,.82), rgba(255,255,255,.58));
      border:1px solid rgba(42,31,34,.12);
      border-radius: 18px;
      transform: translateY(22%);
      transition: transform .9s cubic-bezier(.2,.8,.2,1);
      padding:18px 16px;
      display:grid;
      place-items:center;
      text-align:center;
      gap:8px;
      backdrop-filter: blur(10px);
    }
    .letter .small{font-size:12px; letter-spacing:.22em; text-transform:uppercase; color:var(--muted)}
    .letter .names{font-size:22px; letter-spacing:.02em}
    .letter .date{font-size:14px; color:var(--muted)}
    .seal{
      position:absolute;
      left:50%; top:50%;
      width:92px; height:92px;
      transform: translate(-50%,-22%);
      border-radius: 50%;
      background:
        radial-gradient(circle at 30% 30%, #f2d1a0, #c58b3d 70%),
        radial-gradient(circle at 60% 70%, rgba(255,255,255,.35), transparent 55%);
      border:1px solid rgba(42,31,34,.20);
      display:grid; place-items:center;
      color:#2a1f22;
      font-weight:700;
      letter-spacing:.18em;
      box-shadow: 0 14px 40px rgba(0,0,0,.14);
      transition: transform .25s ease;
    }
    .seal:active{transform: translate(-50%,-22%) scale(.98);}

    .envelope-stage.open .flap{transform: rotateX(155deg);}
    .envelope-stage.open .letter{transform: translateY(-18%);}

    /* ---------- Main content ---------- */
    header.hero{
      padding-top: 26px;
      padding-bottom: 10px;
    }
    h1{
      margin:18px 0 6px;
      font-size: clamp(34px, 7vw, 56px);
      line-height:1.05;
      letter-spacing:.01em;
      font-weight:600;
    }
    .sub{
      margin:0;
      font-size: 16px;
      color:var(--muted);
      letter-spacing:.03em;
    }

    .card{
      margin: 18px auto 0;
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      background: var(--card);
      backdrop-filter: blur(12px);
      box-shadow: 0 12px 40px rgba(0,0,0,.06);
      padding: 18px;
    }
    .grid{
      display:grid;
      grid-template-columns: 1fr;
      gap:14px;
    }
    @media (min-width: 820px){
      .grid{grid-template-columns: 1.2fr .8fr;}
    }

    .section-title{
      font-size: 14px;
      letter-spacing:.18em;
      text-transform:uppercase;
      color:var(--muted);
      margin: 0 0 10px;
    }

    .details{
      display:grid;
      gap:10px;
    }
    .detail-row{
      display:flex;
      justify-content:space-between;
      gap:12px;
      padding: 12px 12px;
      border:1px solid rgba(42,31,34,.10);
      border-radius: 16px;
      background: rgba(255,255,255,.35);
    }
    .detail-row strong{font-weight:600}
    .detail-row span{color:var(--muted)}

    .countdown{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap:10px;
      margin-top:10px;
    }
    .timebox{
      border:1px solid rgba(42,31,34,.10);
      border-radius: 18px;
      background: rgba(255,255,255,.35);
      padding: 12px 10px;
      text-align:center;
    }
    .timebox .num{
      font-size: 22px;
      font-weight:600;
      letter-spacing:.02em;
    }
    .timebox .lbl{
      font-size: 11px;
      letter-spacing:.22em;
      text-transform:uppercase;
      color:var(--muted);
      margin-top:6px;
      display:block;
    }

    .actions{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-top:12px;
    }
    .btn{
      appearance:none;
      border:1px solid rgba(42,31,34,.18);
      background: rgba(255,255,255,.42);
      backdrop-filter: blur(10px);
      padding: 10px 14px;
      border-radius: 999px;
      cursor:pointer;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      gap:10px;
      font-size: 14px;
    }
    .btn.primary{
      background: rgba(91,107,82,.18);
      border-color: rgba(91,107,82,.35);
    }

    form{
      display:grid;
      gap:10px;
      margin-top:10px;
    }
    input, select, textarea{
      width:100%;
      padding: 12px 12px;
      border-radius: 16px;
      border: 1px solid rgba(42,31,34,.14);
      background: rgba(255,255,255,.55);
      font: inherit;
      color:var(--ink);
      outline:none;
    }
    textarea{min-height:92px; resize:vertical}
    .tiny{font-size:12px; color:var(--muted); line-height:1.4}

    footer{
      margin-top:26px;
      text-align:center;
      color:var(--muted);
      font-size:13px;
    }

    /* reveal */
    .reveal{opacity:0; transform: translateY(10px); transition: .7s ease}
    .reveal.show{opacity:1; transform:none}
  </style>
</head>

<body>
  <!-- INTRO -->
  <section class="intro" id="intro" aria-label="Invitation intro">
    <div class="center">
      <div class="envelope-stage" id="envelope" role="button" tabindex="0" aria-label="Open invitation">
        <div class="envelope">
          <div class="flap"></div>
          <div class="env-left"></div>
          <div class="env-right"></div>
          <div class="env-bottom"></div>

          <div class="letter" aria-hidden="true">
            <div class="small">Wedding Invitation</div>
            <div class="names">Anthony & Sofia</div>
            <div class="date">27 February • 2:00 PM</div>
          </div>

          <div class="seal" aria-hidden="true">A&nbsp;S</div>
        </div>
      </div>

      <div class="invite-note">This invitation is exclusively for you</div>
      <div class="tiny" style="margin-top:10px;">Tap to open</div>
    </div>
  </section>

  <!-- MAIN -->
  <main class="wrap" id="main" aria-label="Wedding invitation content">
    <header class="hero center reveal">
      <div class="pill">27 February • 2:00 PM</div>
      <h1>Anthony & Sofia</h1>
      <p class="sub">We are getting married</p>
    </header>

    <section class="card reveal">
      <p class="section-title">Counting down to forever</p>
      <div class="countdown" aria-label="Countdown">
        <div class="timebox"><div class="num" id="cdDays">—</div><span class="lbl">Days</span></div>
        <div class="timebox"><div class="num" id="cdHours">—</div><span class="lbl">Hours</span></div>
        <div class="timebox"><div class="num" id="cdMins">—</div><span class="lbl">Minutes</span></div>
        <div class="timebox"><div class="num" id="cdSecs">—</div><span class="lbl">Seconds</span></div>
      </div>
      <p class="tiny" id="cdNote" style="margin-top:10px;"></p>
    </section>

    <section class="grid" style="margin-top:18px;">
      <section class="card reveal">
        <p class="section-title">Wedding details</p>
        <div class="details">
          <div class="detail-row">
            <strong>Ceremony</strong>
            <span>Old Town Hall of Glyfada</span>
          </div>
          <div class="detail-row">
            <strong>Time</strong>
            <span>14:00 (2:00 PM)</span>
          </div>
          <div class="detail-row">
            <strong>Reception</strong>
            <span>Lunch to follow at Ark Glyfada</span>
          </div>
        </div>

        <div class="actions">
          <a class="btn primary" target="_blank" rel="noopener"
             href="https://www.google.com/maps/search/?api=1&query=Old%20Town%20Hall%20of%20Glyfada">
            Open Ceremony Map
          </a>
          <a class="btn" target="_blank" rel="noopener"
             href="https://www.google.com/maps/search/?api=1&query=Ark%20Glyfada">
            Open Reception Map
          </a>
        </div>

        <p class="tiny" style="margin-top:10px;">
          Tip: You can replace the map links with exact Google Maps URLs if you have them.
        </p>
      </section>

      <section class="card reveal">
        <p class="section-title">RSVP</p>
        <form id="rsvpForm">
          <input name="name" placeholder="Full Name" required />
          <select name="guests" required>
            <option value="" disabled selected>Number of Guests</option>
            <option>1</option><option>2</option><option>3</option><option>4</option>
          </select>
          <input name="diet" placeholder="Dietary notes (optional)" />
          <textarea name="message" placeholder="Message to the couple (optional)"></textarea>
          <button class="btn primary" type="submit">Confirm Attendance</button>
          <div class="tiny" id="rsvpStatus"></div>
        </form>

        <p class="tiny">
          This demo saves RSVPs locally in your browser.  
          If you want real submissions (Google Sheets / email), tell me and I’ll wire it up.
        </p>
      </section>
    </section>

    <footer class="reveal">
      With love, <span style="color:var(--olive); font-weight:600;">Anthony & Sofia</span> • 27.02
    </footer>
  </main>

  <script>
    // ---------- Intro envelope open ----------
    const intro = document.getElementById('intro');
    const envelope = document.getElementById('envelope');

    function openInvite(){
      envelope.classList.add('open');
      // allow envelope animation to play, then fade overlay
      setTimeout(() => {
        intro.classList.add('hidden');
        // enable scroll + focus
        document.getElementById('main').scrollIntoView({behavior:'smooth', block:'start'});
      }, 850);
    }

    envelope.addEventListener('click', openInvite);
    envelope.addEventListener('keydown', (e) => {
      if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openInvite(); }
    });

    // ---------- Countdown ----------
    // IMPORTANT: This uses the viewer's local timezone.
    // If you want Athens timezone fixed, tell me and I'll adjust.
    const target = new Date(new Date().getFullYear(), 1, 27, 14, 0, 0); // Feb=1
    // If today's date is after Feb 27 this year, bump to next year
    if(Date.now() > target.getTime()){
      target.setFullYear(target.getFullYear() + 1);
    }

    const cdDays = document.getElementById('cdDays');
    const cdHours = document.getElementById('cdHours');
    const cdMins = document.getElementById('cdMins');
    const cdSecs = document.getElementById('cdSecs');
    const cdNote = document.getElementById('cdNote');

    function pad(n){ return String(n).padStart(2,'0'); }

    function tick(){
      const now = new Date();
      let diff = target.getTime() - now.getTime();

      if(diff <= 0){
        cdDays.textContent = "0";
        cdHours.textContent = "00";
        cdMins.textContent = "00";
        cdSecs.textContent = "00";
        cdNote.textContent = "Today is the day ✨";
        return;
      }

      const d = Math.floor(diff / (1000*60*60*24));
      diff -= d*(1000*60*60*24);
      const h = Math.floor(diff / (1000*60*60));
      diff -= h*(1000*60*60);
      const m = Math.floor(diff / (1000*60));
      diff -= m*(1000*60);
      const s = Math.floor(diff / 1000);

      cdDays.textContent = d;
      cdHours.textContent = pad(h);
      cdMins.textContent = pad(m);
      cdSecs.textContent = pad(s);

      cdNote.textContent = `Target: ${target.toLocaleString(undefined, { dateStyle:'long', timeStyle:'short' })}`;
    }
    tick();
    setInterval(tick, 1000);

    // ---------- RSVP demo (local storage) ----------
    const form = document.getElementById('rsvpForm');
    const statusEl = document.getElementById('rsvpStatus');

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      const data = Object.fromEntries(new FormData(form).entries());
      const list = JSON.parse(localStorage.getItem('rsvps') || '[]');
      list.push({ ...data, ts: new Date().toISOString() });
      localStorage.setItem('rsvps', JSON.stringify(list));
      statusEl.textContent = "Saved. Thank you! (local demo)";
      form.reset();
    });

    // ---------- Reveal on scroll ----------
    const reveals = document.querySelectorAll('.reveal');
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(e => { if(e.isIntersecting) e.target.classList.add('show'); });
    }, {threshold: .12});
    reveals.forEach(el => io.observe(el));
  </script>
</body>
</html>
